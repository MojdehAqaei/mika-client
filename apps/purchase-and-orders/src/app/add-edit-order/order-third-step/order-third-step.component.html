<view-heading [title]="'documents.info' | translate" [icon]="'description'" styleClasses="no-top-margin"/>

<!-- initial step info -->
<section class="bottom-margin">
  <div class="row">
    <!-- delivery date -->
    <div class="col s12 l4">
      <label class="cl-input-label">{{ 'purchase-and-orders.order.date' | translate }}</label>
      <span>{{ formatDate(formGroup.controls['initialStep'].get('date')?.value , 'YYYY/MM/DD') }}</span>
    </div>

    <!-- auto generated code -->
    <div class="col s12 l4">
      <label class="cl-input-label">{{ 'purchase-and-orders.order.code' | translate }}</label>
      <span>{{ formGroup.controls['initialStep'].get('autoGeneratedCode')?.value }}</span>
    </div>

    <!-- delivery state -->
    <div class="col s12 l4">
      <label class="cl-input-label">{{ 'purchase-and-orders.order.state' | translate }}</label>
      <span>{{ formGroup.controls['initialStep'].get('stateString')?.value }}</span>
    </div>
  </div>

  <div class="row">
    <!-- delivery type -->
    <div class="col s12 l4">
      <label class="cl-input-label">{{ 'purchase-and-orders.order.type' | translate }}</label>
      <span>{{ orderTypeDataMapper.get(formGroup.controls['initialStep'].get('orderType')?.value) }}</span>
    </div>

    <!-- deliverer -->
    <div class="col s12 l4">
      <label class="cl-input-label">{{ 'purchase-and-orders.order.supply-method' | translate }}</label>
      <span>{{  supplyMethodDataMapper.get(formGroup.controls['initialStep'].get('supplyMethod')?.value) }}</span>
    </div>

    <!-- receiver -->
    <div class="col s12 l4">
      <label class="cl-input-label">{{ 'purchase-and-orders.order.agent' | translate }}</label>
      @if (orderFacade.orderStore.state$().editMode$()) {
        <span>{{ (formGroup.controls['initialStep'].get('agent')?.value) | ClObjectToString:'name':'lName' }}</span>
      } @else {
        <span>{{ (formGroup.controls['initialStep'].get('agent')?.value) | ClObjectToString:'firstName':'lastName' }}</span>
      }
    </div>
  </div>
</section>


<cl-divider/>


<!-- order item list-->
<view-heading [title]="'base-data.goods.list' | translate" [icon]="'deployed_code'" styleClasses="no-top-margin"/>
<section class="bottom-margin">
  <purchase-order-item-list [items]="orderFacade.orderStore.state$().selectedOrder$().orderItems || []"/>
</section>
