<section [formGroup]="formGroup">
  <div class="row no-bottom-margin">

    <!-- order date -->
    <div class="col s12 l4 cl-form-field">
      <label class="cl-input-label cl-required">{{ 'purchase-and-orders.order.date' | translate }}</label>
      <cl-date-picker formControlName="date"
                      [clear]="true"
                      clValidatorErrors
                      [showValidatorErrors]="formGroup.controls['date'].touched && !!formGroup.controls['date'].errors"/>
    </div>

    <!-- auto generated code -->
    <div class="col s12 l4 cl-form-field">
      <label class="cl-input-label">{{ 'purchase-and-orders.order.code' | translate }}</label>
      <cl-input-text formControlName="autoGeneratedCode"/>
    </div>

    <!-- order state -->
    <div class="col s12 l4 cl-form-field">
      <label class="cl-input-label">{{ 'purchase-and-orders.order.state' | translate }}</label>
      <cl-input-text formControlName="stateString"/>
    </div>
  </div>

  <div class="row no-bottom-margin">
    <!-- order type -->
    <div class="col s12 l4 cl-form-field">
      <label class="cl-input-label cl-required">{{ 'purchase-and-orders.order.type' | translate }}</label>
      <cl-select formControlName="orderType"
                 [options]="orderTypeOptions"
                 clValidatorErrors
                 [showValidatorErrors]="formGroup.controls['orderType'].touched && !!formGroup.controls['orderType'].errors"/>
    </div>

    <!-- supply method -->
    <div class="col s12 l4 cl-form-field">
      <label class="cl-input-label cl-required">{{ 'purchase-and-orders.order.supply-method' | translate }}</label>
      <cl-select formControlName="supplyMethod"
                 [options]="supplyMethodOptions"
                 clValidatorErrors
                 [showValidatorErrors]="formGroup.controls['supplyMethod'].touched && !!formGroup.controls['supplyMethod'].errors"/>
    </div>

    <!-- agent -->
    <div class="col s12 l4 cl-form-field">
      <label class="cl-input-label cl-required">{{ 'purchase-and-orders.order.agent' | translate }}</label>
      <cl-select formControlName="agent"
                 [placeholder]="('select' | translate)"
                 [lazyFilter]="true"
                 [filterable]="true"
                 [filterPlaceholder]= "'search'| translate"
                 [optionLabel]="['firstName' , 'lastName', 'name', 'lName']"
                 url="users/search/actives/org-role"
                 [httpContext]="httpContext"
                 clValidatorErrors
                 [showValidatorErrors]="formGroup.controls['agent'].touched && !!formGroup.controls['agent'].errors"/>
    </div>
  </div>

  <!-- description -->
  <div class="row no-bottom-margin">
    <div class="col s12 cl-form-field">
      <label class="cl-input-label">{{  'description' | translate }}</label>
      <cl-text-area formControlName="description"
                    [maxLength]="500"
                    [showLength]="true"
                    [placeholder]="'description' | translate"
                    clValidatorErrors
                    [showValidatorErrors]="formGroup.controls['description'].touched && !!formGroup.controls['description'].errors"/>
    </div>
  </div>

  <!-- attachments -->
  <div class="row order-attachments">
    <div class="col s12 cl-form-field">
      <view-heading [title]=" 'attachments.upload' | translate" [icon]="'attach_file'"/>
      <cl-file-uploader formControlName="attachedFiles"
                        fileBtnType="info"
                        [auto]="false"
                        [customUpload]="true"
                        [accept]="appFacade.appStore.state$().fileAttachmentConfig$().fileType"
                        [maxFileSize]="appFacade.appStore.state$().fileAttachmentConfig$().maxUploadSize"
                        [fileLimit]="appFacade.appStore.state$().fileAttachmentConfig$().maximumNumberOfFile"
                        [deleteConfirmDialogConfig]="confirmationConfig"
                        [fileDeleteUrl]="'order-document/deleteFile/' + formGroup.controls['id'].value + '?' + deleteFileHttpParams()"
                        (onFileActionMenuOpen)="deleteAttachment($event)"
                        clValidatorErrors
                        [showValidatorErrors]="!!formGroup.controls['attachedFiles'].errors"/>

    </div>
  </div>

</section>
